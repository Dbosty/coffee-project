<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Altair Chart</title>
    <link rel="stylesheet" href="styles.css">
    <!-- Load Altair via CDN -->
    <script src="https://cdn.jsdelivr.net/npm/vega@5"></script>
    <script src="https://cdn.jsdelivr.net/npm/vega-lite@5"></script>
    <script src="https://cdn.jsdelivr.net/npm/vega-embed@6"></script>
</head>
<body>
    <h1>Coffee Production and Consumption in Oceania</h1>
    <p>Hover over the icons to see info on each country.</p>
</body>
<body>
    <!-- Container for the chart -->
    <div id="chart-container"></div>

    <!-- Load and embed Altair chart -->
    <script>
        // Embed Altair chart JSON
        var chartSpec = {
  "config": {"view": {"continuousWidth": 400, "continuousHeight": 300}},
  "hconcat": [
    {
      "mark": {"type": "image", "height": 30, "width": 30},
      "encoding": {
        "tooltip": [
          {"field": "Country", "type": "nominal"},
          {"field": "Continent", "type": "nominal"},
          {"field": "Total Production", "type": "quantitative"},
          {"field": "Domestic Consumption", "type": "quantitative"}
        ],
        "url": {"field": "flag_url", "type": "nominal"},
        "x": {
          "field": "normalized_production",
          "scale": {"domain": [-5, 295.9586458043613]},
          "title": "Total Production",
          "type": "quantitative"
        },
        "y": {
          "field": "Density",
          "scale": {"domain": [-5, 21.9139]},
          "title": "Population Density",
          "type": "quantitative"
        }
      },
      "height": 300,
      "selection": {
        "selector183": {
          "type": "single",
          "fields": ["Year"],
          "bind": {
            "input": "range",
            "max": 2018,
            "min": 1990,
            "name": "Year",
            "step": 1
          },
          "init": {"Year": 1990}
        },
        "selector184": {
          "type": "interval",
          "bind": "scales",
          "encodings": ["x", "y"]
        }
      },
      "title": {
        "text": "Normalized Population: Total Production vs Population Density",
        "subtitle": "Coffee Production per 1,000,000 People"
      },
      "transform": [{"filter": {"selection": "selector183"}}],
      "width": 500
    },
    {
      "mark": {"type": "image", "height": 30, "width": 30},
      "encoding": {
        "tooltip": [
          {"field": "Country", "type": "nominal"},
          {"field": "Continent", "type": "nominal"},
          {"field": "Total Production", "type": "quantitative"},
          {"field": "Domestic Consumption", "type": "quantitative"}
        ],
        "url": {"field": "flag_url", "type": "nominal"},
        "x": {
          "field": "normalized_consumption",
          "scale": {"domain": [-5, 0.6401181914228643]},
          "title": "Domestic Consumption",
          "type": "quantitative"
        },
        "y": {
          "field": "Density",
          "scale": {"domain": [-5, 21.9139]},
          "title": "Population Density",
          "type": "quantitative"
        }
      },
      "height": 300,
      "selection": {
        "selector183": {
          "type": "single",
          "fields": ["Year"],
          "bind": {
            "input": "range",
            "max": 2018,
            "min": 1990,
            "name": "Year",
            "step": 1
          },
          "init": {"Year": 1990}
        },
        "selector185": {
          "type": "interval",
          "bind": "scales",
          "encodings": ["x", "y"]
        }
      },
      "title": {
        "text": "Normalized Population: Domestic Consupmtion vs Population Density",
        "subtitle": "Coffee Consumption per 1,000,000 People"
      },
      "transform": [{"filter": {"selection": "selector183"}}],
      "width": 500
    }
  ],
  "data": {"name": "data-0edd2650cf6bc8b07f2fcba0ecc139a4"},
  "$schema": "https://vega.github.io/schema/vega-lite/v4.17.0.json",
  "datasets": {
    "data-0edd2650cf6bc8b07f2fcba0ecc139a4": [
      {
        "Country": "Papua New Guinea",
        "Domestic Consumption": 3,
        "exports": 1050.72,
        "Exports Crop Year": 1012.84,
        "Total Production": 962.84,
        "Gross Opening Stocks": 199,
        "id": 598,
        "Name": "PG",
        "latitude": -6.314993,
        "longitude": 143.95555,
        "Continent": "Oceania",
        "Avg Decade Population": 4686634.5,
        "Density": 21.9139,
        "Year": 1990,
        "normalized_production": 205.44379980986358,
        "normalized_consumption": 0.6401181914228643,
        "flag_url": "https://upload.wikimedia.org/wikipedia/commons/e/e3/Flag_of_Papua_New_Guinea.svg"
      },
      {
        "Country": "Papua New Guinea",
        "Domestic Consumption": 3,
        "exports": 788.35,
        "Exports Crop Year": 794.82,
        "Total Production": 746.82,
        "Gross Opening Stocks": 146,
        "id": 598,
        "Name": "PG",
        "latitude": -6.314993,
        "longitude": 143.95555,
        "Continent": "Oceania",
        "Avg Decade Population": 4686634.5,
        "Density": 21.9139,
        "Year": 1991,
        "normalized_production": 159.35102257280786,
        "normalized_consumption": 0.6401181914228643,
        "flag_url": "https://upload.wikimedia.org/wikipedia/commons/e/e3/Flag_of_Papua_New_Guinea.svg"
      },
      {
        "Country": "Papua New Guinea",
        "Domestic Consumption": 3,
        "exports": 917.17,
        "Exports Crop Year": 943.11,
        "Total Production": 900.11,
        "Gross Opening Stocks": 95,
        "id": 598,
        "Name": "PG",
        "latitude": -6.314993,
        "longitude": 143.95555,
        "Continent": "Oceania",
        "Avg Decade Population": 4686634.5,
        "Density": 21.9139,
        "Year": 1992,
        "normalized_production": 192.05892842721147,
        "normalized_consumption": 0.6401181914228643,
        "flag_url": "https://upload.wikimedia.org/wikipedia/commons/e/e3/Flag_of_Papua_New_Guinea.svg"
      },
      {
        "Country": "Papua New Guinea",
        "Domestic Consumption": 2,
        "exports": 1054.63,
        "Exports Crop Year": 1028.48,
        "Total Production": 1019.48,
        "Gross Opening Stocks": 49,
        "id": 598,
        "Name": "PG",
        "latitude": -6.314993,
        "longitude": 143.95555,
        "Continent": "Oceania",
        "Avg Decade Population": 4686634.5,
        "Density": 21.9139,
        "Year": 1993,
        "normalized_production": 217.52923126392724,
        "normalized_consumption": 0.42674546094857624,
        "flag_url": "https://upload.wikimedia.org/wikipedia/commons/e/e3/Flag_of_Papua_New_Guinea.svg"
      },
      {
        "Country": "Papua New Guinea",
        "Domestic Consumption": 2,
        "exports": 1156.84,
        "Exports Crop Year": 1135.16,
        "Total Production": 1138.66,
        "Gross Opening Stocks": 38,
        "id": 598,
        "Name": "PG",
        "latitude": -6.314993,
        "longitude": 143.95555,
        "Continent": "Oceania",
        "Avg Decade Population": 4686634.5,
        "Density": 21.9139,
        "Year": 1994,
        "normalized_production": 242.9589932818529,
        "normalized_consumption": 0.42674546094857624,
        "flag_url": "https://upload.wikimedia.org/wikipedia/commons/e/e3/Flag_of_Papua_New_Guinea.svg"
      },
      {
        "Country": "Papua New Guinea",
        "Domestic Consumption": 2,
        "exports": 1002.05,
        "Exports Crop Year": 999.86,
        "Total Production": 1002.36,
        "Gross Opening Stocks": 39.5,
        "id": 598,
        "Name": "PG",
        "latitude": -6.314993,
        "longitude": 143.95555,
        "Continent": "Oceania",
        "Avg Decade Population": 4686634.5,
        "Density": 21.9139,
        "Year": 1995,
        "normalized_production": 213.87629011820744,
        "normalized_consumption": 0.42674546094857624,
        "flag_url": "https://upload.wikimedia.org/wikipedia/commons/e/e3/Flag_of_Papua_New_Guinea.svg"
      },
      {
        "Country": "Papua New Guinea",
        "Domestic Consumption": 2,
        "exports": 1090.08,
        "Exports Crop Year": 1082.35,
        "Total Production": 1089.35,
        "Gross Opening Stocks": 40,
        "id": 598,
        "Name": "PG",
        "latitude": -6.314993,
        "longitude": 143.95555,
        "Continent": "Oceania",
        "Avg Decade Population": 4686634.5,
        "Density": 21.9139,
        "Year": 1996,
        "normalized_production": 232.43758394216573,
        "normalized_consumption": 0.42674546094857624,
        "flag_url": "https://upload.wikimedia.org/wikipedia/commons/e/e3/Flag_of_Papua_New_Guinea.svg"
      },
      {
        "Country": "Papua New Guinea",
        "Domestic Consumption": 2,
        "exports": 1043.44,
        "Exports Crop Year": 1078.72,
        "Total Production": 1074.02,
        "Gross Opening Stocks": 45,
        "id": 598,
        "Name": "PG",
        "latitude": -6.314993,
        "longitude": 143.95555,
        "Continent": "Oceania",
        "Avg Decade Population": 4686634.5,
        "Density": 21.9139,
        "Year": 1997,
        "normalized_production": 229.1665799839949,
        "normalized_consumption": 0.42674546094857624,
        "flag_url": "https://upload.wikimedia.org/wikipedia/commons/e/e3/Flag_of_Papua_New_Guinea.svg"
      },
      {
        "Country": "Papua New Guinea",
        "Domestic Consumption": 1,
        "exports": 1348.97,
        "Exports Crop Year": 1341.78,
        "Total Production": 1352.15,
        "Gross Opening Stocks": 38.3,
        "id": 598,
        "Name": "PG",
        "latitude": -6.314993,
        "longitude": 143.95555,
        "Continent": "Oceania",
        "Avg Decade Population": 4686634.5,
        "Density": 21.9139,
        "Year": 1998,
        "normalized_production": 288.5119375108087,
        "normalized_consumption": 0.21337273047428812,
        "flag_url": "https://upload.wikimedia.org/wikipedia/commons/e/e3/Flag_of_Papua_New_Guinea.svg"
      },
      {
        "Country": "Papua New Guinea",
        "Domestic Consumption": 2,
        "exports": 1320.15,
        "Exports Crop Year": 1327.77,
        "Total Production": 1387.05,
        "Gross Opening Stocks": 47.664,
        "id": 598,
        "Name": "PG",
        "latitude": -6.314993,
        "longitude": 143.95555,
        "Continent": "Oceania",
        "Avg Decade Population": 4686634.5,
        "Density": 21.9139,
        "Year": 1999,
        "normalized_production": 295.9586458043613,
        "normalized_consumption": 0.42674546094857624,
        "flag_url": "https://upload.wikimedia.org/wikipedia/commons/e/e3/Flag_of_Papua_New_Guinea.svg"
      },
      {
        "Country": "Papua New Guinea",
        "Domestic Consumption": 2,
        "exports": 1043.16,
        "Exports Crop Year": 1050.06,
        "Total Production": 1040.74,
        "Gross Opening Stocks": 104.943,
        "id": 598,
        "Name": "PG",
        "latitude": -6.314993,
        "longitude": 143.95555,
        "Continent": "Oceania",
        "Avg Decade Population": 6545783,
        "Density": 21.9139,
        "Year": 2000,
        "normalized_production": 158.99396603889863,
        "normalized_consumption": 0.30554022337740194,
        "flag_url": "https://upload.wikimedia.org/wikipedia/commons/e/e3/Flag_of_Papua_New_Guinea.svg"
      },
      {
        "Country": "Papua New Guinea",
        "Domestic Consumption": 2,
        "exports": 1095.41,
        "Exports Crop Year": 1073.17,
        "Total Production": 1062.59,
        "Gross Opening Stocks": 93.6269,
        "id": 598,
        "Name": "PG",
        "latitude": -6.314993,
        "longitude": 143.95555,
        "Continent": "Oceania",
        "Avg Decade Population": 6545783,
        "Density": 21.9139,
        "Year": 2001,
        "normalized_production": 162.33199297929673,
        "normalized_consumption": 0.30554022337740194,
        "flag_url": "https://upload.wikimedia.org/wikipedia/commons/e/e3/Flag_of_Papua_New_Guinea.svg"
      },
      {
        "Country": "Papua New Guinea",
        "Domestic Consumption": 2,
        "exports": 1057.05,
        "Exports Crop Year": 1076.49,
        "Total Production": 1085.15,
        "Gross Opening Stocks": 81.054,
        "id": 598,
        "Name": "PG",
        "latitude": -6.314993,
        "longitude": 143.95555,
        "Continent": "Oceania",
        "Avg Decade Population": 6545783,
        "Density": 21.9139,
        "Year": 2002,
        "normalized_production": 165.77848669899385,
        "normalized_consumption": 0.30554022337740194,
        "flag_url": "https://upload.wikimedia.org/wikipedia/commons/e/e3/Flag_of_Papua_New_Guinea.svg"
      },
      {
        "Country": "Papua New Guinea",
        "Domestic Consumption": 2,
        "exports": 1147.17,
        "Exports Crop Year": 1152.09,
        "Total Production": 1154.94,
        "Gross Opening Stocks": 87.709,
        "id": 598,
        "Name": "PG",
        "latitude": -6.314993,
        "longitude": 143.95555,
        "Continent": "Oceania",
        "Avg Decade Population": 6545783,
        "Density": 21.9139,
        "Year": 2003,
        "normalized_production": 176.4403127937483,
        "normalized_consumption": 0.30554022337740194,
        "flag_url": "https://upload.wikimedia.org/wikipedia/commons/e/e3/Flag_of_Papua_New_Guinea.svg"
      },
      {
        "Country": "Papua New Guinea",
        "Domestic Consumption": 2,
        "exports": 1047.67,
        "Exports Crop Year": 1010.69,
        "Total Production": 997.51,
        "Gross Opening Stocks": 88.56,
        "id": 598,
        "Name": "PG",
        "latitude": -6.314993,
        "longitude": 143.95555,
        "Continent": "Oceania",
        "Avg Decade Population": 6545783,
        "Density": 21.9139,
        "Year": 2004,
        "normalized_production": 152.3897141105961,
        "normalized_consumption": 0.30554022337740194,
        "flag_url": "https://upload.wikimedia.org/wikipedia/commons/e/e3/Flag_of_Papua_New_Guinea.svg"
      },
      {
        "Country": "Papua New Guinea",
        "Domestic Consumption": 2,
        "exports": 1199.64,
        "Exports Crop Year": 1253.41,
        "Total Production": 1268.13,
        "Gross Opening Stocks": 73.387,
        "id": 598,
        "Name": "PG",
        "latitude": -6.314993,
        "longitude": 143.95555,
        "Continent": "Oceania",
        "Avg Decade Population": 6545783,
        "Density": 21.9139,
        "Year": 2005,
        "normalized_production": 193.73236173579238,
        "normalized_consumption": 0.30554022337740194,
        "flag_url": "https://upload.wikimedia.org/wikipedia/commons/e/e3/Flag_of_Papua_New_Guinea.svg"
      },
      {
        "Country": "Papua New Guinea",
        "Domestic Consumption": 2,
        "exports": 848.81,
        "Exports Crop Year": 811.2,
        "Total Production": 807.22,
        "Gross Opening Stocks": 86.109,
        "id": 598,
        "Name": "PG",
        "latitude": -6.314993,
        "longitude": 143.95555,
        "Continent": "Oceania",
        "Avg Decade Population": 6545783,
        "Density": 21.9139,
        "Year": 2006,
        "normalized_production": 123.3190895573532,
        "normalized_consumption": 0.30554022337740194,
        "flag_url": "https://upload.wikimedia.org/wikipedia/commons/e/e3/Flag_of_Papua_New_Guinea.svg"
      },
      {
        "Country": "Papua New Guinea",
        "Domestic Consumption": 2,
        "exports": 908.75,
        "Exports Crop Year": 969.84,
        "Total Production": 967.71,
        "Gross Opening Stocks": 80.127,
        "id": 598,
        "Name": "PG",
        "latitude": -6.314993,
        "longitude": 143.95555,
        "Continent": "Oceania",
        "Avg Decade Population": 6545783,
        "Density": 21.9139,
        "Year": 2007,
        "normalized_production": 147.83716478227282,
        "normalized_consumption": 0.30554022337740194,
        "flag_url": "https://upload.wikimedia.org/wikipedia/commons/e/e3/Flag_of_Papua_New_Guinea.svg"
      },
      {
        "Country": "Papua New Guinea",
        "Domestic Consumption": 2,
        "exports": 1095.92,
        "Exports Crop Year": 1063.65,
        "Total Production": 1027.65,
        "Gross Opening Stocks": 76,
        "id": 598,
        "Name": "PG",
        "latitude": -6.314993,
        "longitude": 143.95555,
        "Continent": "Oceania",
        "Avg Decade Population": 6545783,
        "Density": 21.9139,
        "Year": 2008,
        "normalized_production": 156.99420527689355,
        "normalized_consumption": 0.30554022337740194,
        "flag_url": "https://upload.wikimedia.org/wikipedia/commons/e/e3/Flag_of_Papua_New_Guinea.svg"
      },
      {
        "Country": "Papua New Guinea",
        "Domestic Consumption": 2,
        "exports": 1026.97,
        "Exports Crop Year": 1048.99,
        "Total Production": 1037.99,
        "Gross Opening Stocks": 38,
        "id": 598,
        "Name": "PG",
        "latitude": -6.314993,
        "longitude": 143.95555,
        "Continent": "Oceania",
        "Avg Decade Population": 6545783,
        "Density": 21.9139,
        "Year": 2009,
        "normalized_production": 158.5738482317547,
        "normalized_consumption": 0.30554022337740194,
        "flag_url": "https://upload.wikimedia.org/wikipedia/commons/e/e3/Flag_of_Papua_New_Guinea.svg"
      },
      {
        "Country": "Papua New Guinea",
        "Domestic Consumption": 1.43,
        "exports": 929.34,
        "Exports Crop Year": 880.09,
        "Total Production": 866.52,
        "Gross Opening Stocks": 25,
        "id": 598,
        "Name": "PG",
        "latitude": -6.314993,
        "longitude": 143.95555,
        "Continent": "Oceania",
        "Avg Decade Population": 8666454.5,
        "Density": 21.9139,
        "Year": 2010,
        "normalized_production": 99.9855246456322,
        "normalized_consumption": 0.16500403942581132,
        "flag_url": "https://upload.wikimedia.org/wikipedia/commons/e/e3/Flag_of_Papua_New_Guinea.svg"
      },
      {
        "Country": "Papua New Guinea",
        "Domestic Consumption": 1.24,
        "exports": 1224.52,
        "Exports Crop Year": 1417.62,
        "Total Production": 1413.85,
        "Gross Opening Stocks": 10,
        "id": 598,
        "Name": "PG",
        "latitude": -6.314993,
        "longitude": 143.95555,
        "Continent": "Oceania",
        "Avg Decade Population": 8666454.5,
        "Density": 21.9139,
        "Year": 2011,
        "normalized_production": 163.14053226726108,
        "normalized_consumption": 0.14308042579580843,
        "flag_url": "https://upload.wikimedia.org/wikipedia/commons/e/e3/Flag_of_Papua_New_Guinea.svg"
      },
      {
        "Country": "Papua New Guinea",
        "Domestic Consumption": 1.71,
        "exports": 924.93,
        "Exports Crop Year": 714.78,
        "Total Production": 716.49,
        "Gross Opening Stocks": 5,
        "id": 598,
        "Name": "PG",
        "latitude": -6.314993,
        "longitude": 143.95555,
        "Continent": "Oceania",
        "Avg Decade Population": 8666454.5,
        "Density": 21.9139,
        "Year": 2012,
        "normalized_production": 82.67394699874096,
        "normalized_consumption": 0.1973125226700261,
        "flag_url": "https://upload.wikimedia.org/wikipedia/commons/e/e3/Flag_of_Papua_New_Guinea.svg"
      },
      {
        "Country": "Papua New Guinea",
        "Domestic Consumption": 2.04,
        "exports": 810.93,
        "Exports Crop Year": 833.32,
        "Total Production": 835.36,
        "Gross Opening Stocks": 5,
        "id": 598,
        "Name": "PG",
        "latitude": -6.314993,
        "longitude": 143.95555,
        "Continent": "Oceania",
        "Avg Decade Population": 8666454.5,
        "Density": 21.9139,
        "Year": 2013,
        "normalized_production": 96.3900520103117,
        "normalized_consumption": 0.23539037792213646,
        "flag_url": "https://upload.wikimedia.org/wikipedia/commons/e/e3/Flag_of_Papua_New_Guinea.svg"
      },
      {
        "Country": "Papua New Guinea",
        "Domestic Consumption": 1.92,
        "exports": 806.83,
        "Exports Crop Year": 795.64,
        "Total Production": 797.56,
        "Gross Opening Stocks": 5,
        "id": 598,
        "Name": "PG",
        "latitude": -6.314993,
        "longitude": 143.95555,
        "Continent": "Oceania",
        "Avg Decade Population": 8666454.5,
        "Density": 21.9139,
        "Year": 2014,
        "normalized_production": 92.0284067723427,
        "normalized_consumption": 0.22154388510318723,
        "flag_url": "https://upload.wikimedia.org/wikipedia/commons/e/e3/Flag_of_Papua_New_Guinea.svg"
      },
      {
        "Country": "Papua New Guinea",
        "Domestic Consumption": 1.8,
        "exports": 711.48,
        "Exports Crop Year": 710.18,
        "Total Production": 711.98,
        "Gross Opening Stocks": 5,
        "id": 598,
        "Name": "PG",
        "latitude": -6.314993,
        "longitude": 143.95555,
        "Continent": "Oceania",
        "Avg Decade Population": 8666454.5,
        "Density": 21.9139,
        "Year": 2015,
        "normalized_production": 82.15354964362878,
        "normalized_consumption": 0.20769739228423803,
        "flag_url": "https://upload.wikimedia.org/wikipedia/commons/e/e3/Flag_of_Papua_New_Guinea.svg"
      },
      {
        "Country": "Papua New Guinea",
        "Domestic Consumption": 2,
        "exports": 1133.18,
        "Exports Crop Year": 1169.14,
        "Total Production": 1171.14,
        "Gross Opening Stocks": 5,
        "id": 598,
        "Name": "PG",
        "latitude": -6.314993,
        "longitude": 143.95555,
        "Continent": "Oceania",
        "Avg Decade Population": 8666454.5,
        "Density": 21.9139,
        "Year": 2016,
        "normalized_production": 135.13484666653477,
        "normalized_consumption": 0.23077488031582002,
        "flag_url": "https://upload.wikimedia.org/wikipedia/commons/e/e3/Flag_of_Papua_New_Guinea.svg"
      },
      {
        "Country": "Papua New Guinea",
        "Domestic Consumption": 2,
        "exports": 794.1,
        "Exports Crop Year": 731.94,
        "Total Production": 733.94,
        "Gross Opening Stocks": 5,
        "id": 598,
        "Name": "PG",
        "latitude": -6.314993,
        "longitude": 143.95555,
        "Continent": "Oceania",
        "Avg Decade Population": 8666454.5,
        "Density": 21.9139,
        "Year": 2017,
        "normalized_production": 84.68745782949648,
        "normalized_consumption": 0.23077488031582002,
        "flag_url": "https://upload.wikimedia.org/wikipedia/commons/e/e3/Flag_of_Papua_New_Guinea.svg"
      },
      {
        "Country": "Papua New Guinea",
        "Domestic Consumption": 2,
        "exports": 869.95,
        "Exports Crop Year": 928.37,
        "Total Production": 930.37,
        "Gross Opening Stocks": 5,
        "id": 598,
        "Name": "PG",
        "latitude": -6.314993,
        "longitude": 143.95555,
        "Continent": "Oceania",
        "Avg Decade Population": 8666454.5,
        "Density": 21.9139,
        "Year": 2018,
        "normalized_production": 107.35301269971475,
        "normalized_consumption": 0.23077488031582002,
        "flag_url": "https://upload.wikimedia.org/wikipedia/commons/e/e3/Flag_of_Papua_New_Guinea.svg"
      }
    ]
  }
} 
        
        // Embed Altair chart into the specified container
        vegaEmbed('#chart-container', chartSpec);
    </script>
</body>
</html>